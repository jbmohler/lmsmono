<div class="page-container">
  <div class="page-header">
    <div class="flex items-center justify-between">
      <h1 class="text-2xl font-semibold text-gray-900">Accounts</h1>
      <button class="btn btn-primary" (click)="openCreate()">New Account</button>
    </div>
  </div>

  <div class="page-content">
    <div class="card">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Type</th>
          <th>Journal</th>
        </tr>
      </thead>
      <tbody>
        @if (accounts().length === 0) {
          <tr>
            <td colspan="4" class="text-center py-8">
              No accounts found.
            </td>
          </tr>
        } @else {
          @for (account of accounts(); track account.id) {
            <tr class="row-clickable" (click)="openEdit(account.id)">
              <td class="cell-primary">{{ account.acc_name }}</td>
              <td>{{ account.description || '-' }}</td>
              <td>{{ account.account_type.name }}</td>
              <td>{{ account.journal.name }}</td>
            </tr>
          }
        }
      </tbody>
    </table>
    </div>
  </div>
</div>

@if (showEditDialog()) {
  <app-account-edit-dialog
    [accountId]="editAccountId()"
    (dialogClose)="onDialogClose()"
    (dialogSave)="onDialogSave()"
  />
}
